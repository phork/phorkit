import { ArgsTable, Description, Primary, Stories, Subtitle, PRIMARY_STORY } from '@storybook/addon-docs';
import { Button } from 'components/Button';
import { Flex } from 'components/Flex';
import { Rhythm } from 'components/Rhythm';
import { Typography } from 'components/Typography';
import { Canvas } from 'stories/helpers/Canvas';
import { PageTitle } from 'stories/helpers/PageTitle';
import { Tabs, TabsContainer, TabList, TabPanelGroup } from '../index';
import { items } from './helpers/items';

<PageTitle src="compositions/Tabs" title="Tabs" />
<Subtitle />
<Description />
<Primary />
<ArgsTable story={PRIMARY_STORY} />
<Stories />

### Children focusable

<Canvas>
  <Tabs
    initialSelected={['second']}
    items={[
      {
        id: 'first',
        content: ({ selected }) => (
          <Flex direction="row" justifyContent="space-between">
            <div>First panel{selected ? ' is selected' : ''}</div>
            <Button color="primary" onClick={() => console.log('first button clicked')} shape="brick" weight="solid">
              Button
            </Button>
          </Flex>
        ),
        label: 'First',
      },
      {
        id: 'second',
        content: ({ selected }) => (
          <Flex direction="row" justifyContent="space-between">
            <div>Second panel{selected ? ' is selected' : ''}</div>
            <Button color="primary" onClick={() => console.log('second button clicked')} shape="brick" weight="solid">
              Button
            </Button>
          </Flex>
        ),
        label: 'Second',
      },
      {
        id: 'third',
        content: ({ selected }) => (
          <Flex direction="row" justifyContent="space-between">
            <div>Third panel{selected ? ' is selected' : ''}</div>
            <Button color="primary" onClick={() => console.log('third button clicked')} shape="brick" weight="solid">
              Button
            </Button>
          </Flex>
        ),
        disabled: true,
        label: 'Third',
      },
      {
        id: 'fourth',
        content: ({ selected }) => (
          <Flex direction="row" justifyContent="space-between">
            <div>Fourth panel{selected ? ' is selected' : ''}</div>
            <Button color="primary" onClick={() => console.log('fourth button clicked')} shape="brick" weight="solid">
              Button
            </Button>
          </Flex>
        ),
        label: 'Fourth',
      },
    ]}
    variant="primary"
  />
</Canvas>

### Custom styles

<Canvas>
  <Tabs
    unstyled
    initialSelected={['second']}
    items={[
      {
        id: 'first',
        label: ({ disabled, focused, selected }) => (
          <Rhythm mr={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              First
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            First panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
        contentProps: { flush: true },
      },
      {
        id: 'second',
        label: ({ disabled, focused, selected }) => (
          <Rhythm mx={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Second
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Second panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
        contentProps: { flush: true },
      },
      {
        id: 'third',
        label: ({ disabled, focused, selected }) => (
          <Rhythm mx={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Third
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Third panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none', pointerEvents: 'none' } },
        contentProps: { flush: true },
        disabled: true,
      },
      {
        id: 'fourth',
        label: ({ disabled, focused, selected }) => (
          <Rhythm ml={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Fourth
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Fourth panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
        contentProps: { flush: true },
      },
    ]}
    listProps={{
      unstyled: true,
      style: {
        alignItems: 'center',
        display: 'flex',
        flexDirection: 'row',
        outline: 'none',
      },
    }}
    panelGroupProps={{
      unstyled: true,
    }}
    style={{ border: 'none', outline: 'none' }}
  />
</Canvas>

### With `children` prop

<Canvas>
  <Tabs
    unstyled
    initialSelected={['second']}
    items={[
      {
        id: 'first',
        label: ({ disabled, focused, selected }) => (
          <Rhythm mr={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              First
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            First panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
        contentProps: { flush: true },
      },
      {
        id: 'second',
        label: ({ disabled, focused, selected }) => (
          <Rhythm mx={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Second
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Second panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
        contentProps: { flush: true },
      },
      {
        id: 'third',
        label: ({ disabled, focused, selected }) => (
          <Rhythm mx={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Third
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Third panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none', pointerEvents: 'none' } },
        contentProps: { flush: true },
        disabled: true,
      },
      {
        id: 'fourth',
        label: ({ disabled, focused, selected }) => (
          <Rhythm ml={2}>
            <Button
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Fourth
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Fourth panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
        contentProps: { flush: true },
      },
    ]}
    style={{ outline: 'none' }}
  >
    {({ componentId, items, orientation, ref, themeId, unstyled }) => (
      <TabsContainer orientation={orientation} style={{ border: 'none' }}>
        <TabList
          componentId={componentId}
          items={items}
          orientation={orientation}
          ref={ref}
          style={{
            alignItems: 'center',
            display: 'flex',
            flexDirection: orientation === 'vertical' ? 'column' : 'row',
            outline: 'none',
          }}
          themeId={themeId}
          unstyled={unstyled}
        />
        <TabPanelGroup unstyled componentId={componentId} items={items} orientation={orientation} themeId={themeId} />
      </TabsContainer>
    )}
  </Tabs>
</Canvas>

### Contrast

<Canvas contrast>
  <Tabs contrast items={items} />
</Canvas>
