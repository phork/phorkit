import { ArgsTable, Description, Primary, Stories, Subtitle, PRIMARY_STORY } from '@storybook/addon-docs';
import { Button } from 'components/Button';
import { Rhythm } from 'components/Rhythm';
import { Typography } from 'components/Typography';
import { Canvas } from 'stories/helpers/Canvas';
import { PageTitle } from 'stories/helpers/PageTitle';
import { Accordion, AccordionContainer, AccordionList } from '../index';

<PageTitle src="compositions/Accordion" title="Accordion" />
<Subtitle />
<Description />
<Primary />
<ArgsTable story={PRIMARY_STORY} />
<Stories />

### With `children` prop

<Canvas>
  <Accordion
    unstyled
    initialSelected={['second']}
    items={[
      {
        id: 'first',
        label: ({ disabled, focused, selected }) => (
          <Rhythm my={2}>
            <Button
              fullWidth
              align="left"
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              First
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            First panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
      },
      {
        id: 'second',
        label: ({ disabled, focused, selected }) => (
          <Rhythm my={2}>
            <Button
              fullWidth
              align="left"
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Second
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Second panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
      },
      {
        id: 'third',
        label: ({ disabled, focused, selected }) => (
          <Rhythm my={2}>
            <Button
              fullWidth
              align="left"
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Third
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Third panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none', pointerEvents: 'none' } },
        disabled: true,
      },
      {
        id: 'fourth',
        label: ({ disabled, focused, selected }) => (
          <Rhythm my={2}>
            <Button
              fullWidth
              align="left"
              as="div"
              color="neutral"
              disabled={disabled}
              focused={focused}
              shape="brick"
              tabIndex={-1}
              weight={selected ? 'shaded' : 'outlined'}
            >
              Fourth
            </Button>
          </Rhythm>
        ),
        content: ({ selected }) => (
          <Typography as="h4" color="primary" heading="h4">
            Fourth panel{selected ? ' is selected' : ''}
          </Typography>
        ),
        labelProps: { style: { outline: 'none' } },
      },
    ]}
    style={{ outline: 'none' }}
  >
    {({ componentId, items, orientation, ref, themeId, unstyled }) => (
      <AccordionContainer orientation={orientation} style={{ border: 'none' }}>
        <AccordionList
          componentId={componentId}
          items={items}
          orientation={orientation}
          ref={ref}
          style={{
            alignItems: 'center',
            display: 'flex',
            flexDirection: orientation === 'vertical' ? 'column' : 'row',
            outline: 'none',
          }}
          themeId={themeId}
          unstyled={unstyled}
        />
      </AccordionContainer>
    )}
  </Accordion>
</Canvas>
