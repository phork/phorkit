import { ArgsTable, Description, Primary, Stories, Subtitle, PRIMARY_STORY } from '@storybook/addon-docs';
import { TimesIcon } from 'icons/TimesIcon';
import { CheckIcon } from 'icons/internal/CheckIcon';
import { HeartIcon } from 'icons/internal/HeartIcon';
import { Avatar } from 'components/Avatar';
import { IconButton } from 'components/Button';
import { Flex } from 'components/Flex';
import { IconText } from 'components/IconText';
import { Looper } from 'components/Looper';
import { Rhythm } from 'components/Rhythm';
import { Typography } from 'components/Typography';
import { Canvas } from 'stories/helpers/Canvas';
import { PageTitle } from 'stories/helpers/PageTitle';
import { ThemeWrapper } from 'stories/helpers/ThemeWrapper';
import { Tag } from '../Tag';
import { TagGroup } from '../TagGroup';

<PageTitle src="components/Tag" title="Tag" />
<Subtitle />
<Description />
<Primary />
<ArgsTable story={PRIMARY_STORY} />
<Stories />

## Examples

_Note that the links will cause the page to reload so the state will appear unchanged._

<Canvas>
  <Looper
    list={['2xsmall', 'xsmall', 'small', 'medium', 'large']}
    render={size => (
      <React.Fragment>
        <Rhythm m={2}>
          <Tag size={size} weight="shaded">
            Read only tag
          </Tag>
          <Tag actionable onClick={() => console.log('button tag')} size={size} weight="shaded">
            Button tag
          </Tag>
          <Tag actionable as="a" href="https://phorkit.org" size={size} target="_blank" weight="shaded">
            Link tag
          </Tag>
          <Tag actionable size={size} weight="outlined">
            Outlined tag
          </Tag>
          <Tag actionable size={size} weight="solid">
            Solid tag
          </Tag>
        </Rhythm>
        <br />
      </React.Fragment>
    )}
  />
</Canvas>

<Canvas>
  <Looper
    list={['2xsmall', 'xsmall', 'small', 'medium', 'large']}
    render={size => (
      <React.Fragment>
        <Rhythm m={2}>
          <Tag shape="brick" size={size}>
            Read only
          </Tag>
          <Tag actionable onClick={() => console.log('button tag')} shape="brick" size={size}>
            Button tag
          </Tag>
          <Tag actionable as="a" href="https://phorkit.org" shape="brick" size={size} target="_blank">
            Link tag
          </Tag>
          <Tag actionable shape="brick" size={size} weight="outlined">
            Outlined tag
          </Tag>
          <Tag actionable shape="brick" size={size} weight="solid">
            Solid tag
          </Tag>
        </Rhythm>
        <br />
      </React.Fragment>
    )}
  />
</Canvas>

<Canvas contrast>
  <Rhythm m={2}>
    <Tag contrast>Read only tag</Tag>
    <Tag actionable contrast onClick={() => console.log('button tag')}>
      Button tag
    </Tag>
    <Tag actionable contrast as="a" href="https://phorkit.org" target="_blank">
      Link tag
    </Tag>
    <Tag actionable contrast weight="outlined">
      Outlined tag
    </Tag>
    <Tag actionable contrast weight="solid">
      Solid tag
    </Tag>
  </Rhythm>
</Canvas>

### Custom tag labels

<Canvas>
  <ThemeWrapper>
    {({ themeId }) => (
      <TagGroup>
        <Tag key="remove">
          <IconText
            reverse
            icon={
              <IconButton
                aria-label="Remove tag"
                color="neutral"
                onClick={() => console.log('remove tag')}
                themeId={themeId}
              >
                <TimesIcon scale="xsmall" />
              </IconButton>
            }
            text={
              <Rhythm mr={2}>
                <span>Hello world</span>
              </Rhythm>
            }
          />
        </Tag>
        <Tag actionable key="hello" onClick={() => console.log('tag')} shape="brick">
          <IconText
            icon={<HeartIcon scale="small" />}
            text={
              <Rhythm ml={2}>
                <span>Hello world</span>
              </Rhythm>
            }
          />
        </Tag>
      </TagGroup>
    )}
  </ThemeWrapper>
</Canvas>

### Chip tag

_This is an example of how to make a custom chip from the Tag component. There is also a pre-defined [Chip](?path=/story/display-chip--default) component._

<Canvas>
  <ThemeWrapper>
    {({ themeId }) => (
      <TagGroup>
        <Tag flush key="close" size="medium">
          <Flex alignItems="center" direction="row" justifyContent="space-between">
            <Rhythm m={1} mr={2}>
              <Avatar color="primary" initials="P" size="xsmall" />
            </Rhythm>
            <Typography weights={['line-height-smash']}>Hello world</Typography>
            <Rhythm ml={4} p={1} style={{ marginRight: 5 }}>
              <IconButton
                noHeight
                aria-label="Remove tag"
                color="neutral"
                onClick={() => console.log('remove tag')}
                shape="circle"
                themeId={themeId}
              >
                <TimesIcon scale="xsmall" />
              </IconButton>
            </Rhythm>
          </Flex>
        </Tag>
        <Tag flush key="check" size="medium">
          <Flex alignItems="center" direction="row" justifyContent="space-between">
            <Rhythm m={1} mr={2}>
              <Avatar color="primary" initials="P" size="xsmall" />
            </Rhythm>
            <Typography weights={['line-height-smash']}>Hello world</Typography>
            <Rhythm ml={4} mr={3}>
              <CheckIcon scale="small" />
            </Rhythm>
          </Flex>
        </Tag>
      </TagGroup>
    )}
  </ThemeWrapper>
</Canvas>
