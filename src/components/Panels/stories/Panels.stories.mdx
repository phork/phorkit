import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { RightPanelIcon } from 'icons/internal/RightPanelIcon';
import { IconButton } from 'components/Button/IconButton';
import { PageTitle } from 'stories/helpers/PageTitle';
import { MainPanel, PanelContainer, PermanentSidePanel, PermanentStackPanel, SidePanel, StackPanel } from '../';
import { PanelsWrapper } from './helpers/PanelsWrapper';

export const panelContainerStyle = {
  borderRadius: 4,
  height: 130,
  margin: '-30px -20px',
};
export const mainPanelStyle = {
  background: 'linear-gradient(90deg, rgba(244,17,80,1) 0%, rgba(255,50,50,1) 25%, rgba(248,190,7,1) 100%)',
  color: '#fff',
  padding: '12px',
};
export const subPanelStyle = {
  background: '#fff',
  color: '#000',
  padding: '0 12px',
  lineHeight: '36px',
};

<Meta
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
  title="Surfaces/Panels"
/>

<PageTitle src="components/Panels" title="Panels" />

# Side panels

<br />

### Side panel: Permanent

<Canvas>
  <Story name="Side panel: Permanent">
    <PanelContainer orientation="vertical" style={panelContainerStyle}>
      <MainPanel style={mainPanelStyle}>Main panel</MainPanel>
      <PermanentSidePanel position="right" style={subPanelStyle} width={360}>
        Side panel
      </PermanentSidePanel>
    </PanelContainer>
  </Story>
</Canvas>

### Side panel: Open

<Canvas>
  <Story name="Side panel: Open">
    <PanelContainer orientation="vertical" style={panelContainerStyle}>
      <MainPanel style={mainPanelStyle}>Main panel</MainPanel>
      <SidePanel open position="right" style={subPanelStyle} width={360}>
        Side panel
      </SidePanel>
    </PanelContainer>
  </Story>
</Canvas>

### Side panel: Shiftable

<Canvas>
  <Story name="Side panel: Shiftable">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Shiftable with minSize

<Canvas>
  <Story name="Side panel: Shiftable with minSize">
    <PanelsWrapper>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              minSize={100}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Squashable

<Canvas>
  <Story name="Side panel: Squashable">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              transition="squashable"
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Squashable with minSize

<Canvas>
  <Story name="Side panel: Squashable with minSize">
    <PanelsWrapper>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              minSize={100}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              transition="squashable"
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Delayed

<Canvas>
  <Story name="Side panel: Delayed">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              delay={500}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              transition="squashable"
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Fixed

<Canvas>
  <Story name="Side panel: Fixed">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              fixed
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Fixed percentage

<Canvas>
  <Story name="Side panel: Fixed percentage">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10 }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              fixed
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              unit="percent"
              width={100}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Side panel: Hoverable (rudimentary)

<Canvas>
  <Story name="Side panel: Hoverable">
    <PanelsWrapper>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer orientation="vertical" style={panelContainerStyle}>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Side panel state: {panelState}
            </MainPanel>
            <SidePanel
              minSize={100}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onMouseOut={toggleOpen}
              onMouseOver={toggleOpen}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="right"
              style={subPanelStyle}
              width={360}
            >
              Side panel
            </SidePanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

# Stack panels

<br />

### Stack panel: Permanent

<Canvas>
  <Story name="Stack panel: Permanent">
    <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
      <MainPanel style={mainPanelStyle}>Main panel</MainPanel>
      <PermanentStackPanel height={40} position="top" style={subPanelStyle}>
        Stack panel
      </PermanentStackPanel>
    </PanelContainer>
  </Story>
</Canvas>

### Stack panel: Open

<Canvas>
  <Story name="Stack panel: Open">
    <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
      <MainPanel style={mainPanelStyle}>Main panel</MainPanel>
      <StackPanel open height={40} position="top" style={subPanelStyle}>
        Stack panel
      </StackPanel>
    </PanelContainer>
  </Story>
</Canvas>

### Stack panel: Shiftable

<Canvas>
  <Story name="Stack panel: Shiftable">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              height={40}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Shiftable with minSize

<Canvas>
  <Story name="Stack panel: Shiftable with minSize">
    <PanelsWrapper>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              height={40}
              minSize={10}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Squashable

<Canvas>
  <Story name="Stack panel: Squashable">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={{ ...mainPanelStyle, zIndex: 1 }}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              height={40}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
              transition="squashable"
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Squashable with minSize

<Canvas>
  <Story name="Stack panel: Squashable with minSize">
    <PanelsWrapper>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={{ ...mainPanelStyle, zIndex: 1 }}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              height={40}
              minSize={10}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
              transition="squashable"
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Delayed

<Canvas>
  <Story name="Stack panel: Delayed">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={{ ...mainPanelStyle, zIndex: 1 }}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              delay={500}
              height={40}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
              transition="squashable"
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Fixed

<Canvas>
  <Story name="Stack panel: Fixed">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              fixed
              height={40}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Fixed percentage

<Canvas>
  <Story name="Stack panel: Fixed percentage">
    <PanelsWrapper isOpen>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <IconButton
              color="white"
              onClick={() => toggleOpen()}
              shape="circle"
              size="small"
              style={{ position: 'absolute', bottom: 8, left: 8, zIndex: 10, transform: 'rotate(-90deg)' }}
              type="button"
              weight="solid"
            >
              <RightPanelIcon size={14} />
            </IconButton>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              fixed
              height={100}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
              unit="percent"
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>

### Stack panel: Hoverable (rudimentary)

<Canvas>
  <Story name="Stack panel: Hoverable">
    <PanelsWrapper>
      {({ isOpen, panelState, setPanelState, toggleOpen }) => (
        <React.Fragment>
          <PanelContainer reverse orientation="horizontal" style={panelContainerStyle}>
            <MainPanel style={mainPanelStyle}>
              Main panel
              <br />
              Stack panel state: {panelState}
            </MainPanel>
            <StackPanel
              height={40}
              minSize={10}
              onCloseFinish={() => setPanelState('closed')}
              onCloseStart={() => setPanelState('closing')}
              onMouseOut={toggleOpen}
              onMouseOver={toggleOpen}
              onOpenFinish={() => setPanelState('open')}
              onOpenStart={() => setPanelState('opening')}
              open={isOpen}
              position="top"
              style={subPanelStyle}
            >
              Stack panel
            </StackPanel>
          </PanelContainer>
        </React.Fragment>
      )}
    </PanelsWrapper>
  </Story>
</Canvas>
